window.tfc_parseScriptQueryParams=function(e){for(var t,r,i,s=document.getElementsByTagName("script"),o="",n={},c=0;c<s.length;++c)if(t=s[c].src,e.test(t)){o=t;break}for(r=(o.split("?",2)[1]||"").split("&"),c=0;c<r.length;++c)2===(i=r[c].split("=",2)).length&&(n[i[0]]=i[1]);return n},function(){"use strict";var e=!!window.tfc,o=!1,t=window.console,r=["calculate","event","update","getProfileUrl","getToken","setToken"];if(e)for(i=0;i<r.length;++i)e=e&&!!window.tfc[r[i]];if(!e){for(var p,l="text/css",g="text/javascript",m="script",v={},h=[],i=0;i<r.length;++i)!function(e){v[e]=function(){h.push({apiName:e,args:arguments})}}(r[i]);v.init=function(e){var r,t,i;function s(e,t){t&&(r+="&"+e+"="+t)}o||(o=!0,r=e.configurationSecureURI+"/fitconfig?callback=tfc.processConfiguration&storeId="+e.storeKey,t=window.tfhash||{},(p=e).shimQueryParams=i=tfc_parseScriptQueryParams(/fitrec(-[^\.]+)?\.js/),e.serviceMode=e.serviceMode||i.serviceMode,s("serviceMode",e.serviceMode),s("deviceType",i.deviceType),s("locale",i.locale),s("iframeIntegration",t.iframeIntegration),s("clientHandlesBrowserUnsupported",!0),y(m,g,"tfc-fitrec-config",r))},v.processConfiguration=function(e){var t=navigator.userAgent,r=new RegExp("MSIE [0-9]"),i=new RegExp("Trident/7.0;"),s=new RegExp("Version/([0-9]+.[0-9]+).*Safari/[0-9]"),o=new RegExp("(Chrome|Chromium|CriOS|FxiOS)/[0-9]");if(r.test(t)||i.test(t))S("[True Fit] IE is not supported, so suppressing the widget.");else{if(!o.test(t)&&s.test(t)){var n=(s.exec(t)||[])[1];if(Number(n)<12)return void S("[True Fit] Safari < 12 is not supported, so suppressing the widget.")}var c,a=p.storeKey,r=e.cdnSecureURI,i=e.storeProductId,o=e.storeVersion,s=e.uxProductId,t=e.uxVersion,f=void 0!==e.customJsEnabled&&e.customJsEnabled,n=e.widgetDeviceType,o=void 0===e.storeVersionPath?""===o||""===i?"":"/"+i+"/"+o:e.storeVersionPath,t=void 0===e.uxVersionPath?""===t||""===s?"":"/"+s+"/"+t:e.uxVersionPath,n="/resources/store/"+a+"/css/fitrec"+("mobile"===n||"responsive"===n?"-"+n:"")+".css",a="/resources/store/"+a+"/js/tfcapp.js";(v.configuration=e).serviceMode=p.serviceMode,e.shimQueryParams=p.shimQueryParams,y("link",l,"tfc-fitrec-css",r+o+n);const u=r+t+"/resources/fitrec/js/application.js",d=r+o+a;y(m,g,"tfc-fitrec-library",u),c=function(){for(var e,t=0;t<h.length;++t)e=h[t],tfc[e.apiName].apply(tfc,e.args)},w(function(){return tfc!==v&&(c(),1)},15),f&&y(m,g,"tfc-store-library",d)}},window.tfc=v}function y(e,t,r,i,s){document.createStyleSheet&&t===l?document.createStyleSheet(i):((e=document.createElement(e)).id=r,e.type=t,s&&(e.onload=s),t===l?(e.rel="stylesheet",e.href=i):t===g&&(e.async=!0,e.src=i),(i=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,i))}function w(t,r){var i=0;!function e(){++i>=r||t()||setTimeout(e,100*(1<<i-1))}()}function S(e){t&&t.log&&t.log(e)}}(),tfc.init&&tfc.init({configurationSecureURI:"https://consumer.truefitcorp.com",storeKey:"myr"});